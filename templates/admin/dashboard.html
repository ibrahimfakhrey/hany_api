{% extends "admin/base.html" %}

{% block title %}ุงูุฑุฆูุณูุฉ{% endblock %}

{% block content %}
<div class="page-header">
    <h1>ูุฑุญุจุงูุ ููุชุด ูุงูู ๐</h1>
    <div class="breadcrumb">{{ current_date }}</div>
</div>

{% if success_message %}
<div class="alert alert-success">
    <span>โ</span>
    {{ success_message }}
</div>
{% endif %}

{% if error_message %}
<div class="alert alert-error">
    <span>โ</span>
    {{ error_message }}
</div>
{% endif %}

<!-- Statistics Cards -->
<div class="stats-grid">
    <div class="stat-card total">
        <div class="icon">๐ฅ</div>
        <div class="number">{{ total_users }}</div>
        <div class="label">ุฅุฌูุงูู ุงููุณุชุฎุฏููู</div>
    </div>

    <div class="stat-card paid">
        <div class="icon">๐</div>
        <div class="number">{{ paid_users }}</div>
        <div class="label">ุงููุดุชุฑููู</div>
    </div>

    <div class="stat-card unpaid">
        <div class="icon">๐ค</div>
        <div class="number">{{ unpaid_users }}</div>
        <div class="label">ุบูุฑ ุงููุดุชุฑููู</div>
    </div>
</div>

<!-- Quick Actions -->
<div class="card">
    <div class="card-header">
        <h2 class="card-title">โก ุฅุฌุฑุงุกุงุช ุณุฑูุนุฉ</h2>
    </div>

    <div class="quick-actions">
        <a href="/admin/notifications/new" class="quick-action-card">
            <div class="icon">๐</div>
            <h3>ุฅุฑุณุงู ุฅุดุนุงุฑ</h3>
        </a>

        <a href="/admin/users" class="quick-action-card">
            <div class="icon">๐ฅ</div>
            <h3>ุนุฑุถ ุงููุณุชุฎุฏููู</h3>
        </a>

        <a href="/admin/notifications/new?target=paid" class="quick-action-card"
            style="background: linear-gradient(135deg, var(--gold-accent), #9a7d4a);">
            <div class="icon">๐</div>
            <h3>ุฅุดุนุงุฑ ูููุดุชุฑููู</h3>
        </a>

        <a href="/admin/paid-users" class="quick-action-card"
            style="background: linear-gradient(135deg, var(--primary-teal), var(--dark-teal));">
            <div class="icon">๐</div>
            <h3>ุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงูุงุช</h3>
        </a>
    </div>
</div>

<!-- Recent Users -->
<div class="card">
    <div class="card-header">
        <h2 class="card-title">๐ฅ ุฃุญุฏุซ ุงููุณุชุฎุฏููู</h2>
        <a href="/admin/users" class="btn btn-outline btn-sm">ุนุฑุถ ุงููู โ</a>
    </div>

    <table class="table">
        <thead>
            <tr>
                <th>ุงููุณุชุฎุฏู</th>
                <th>ุญุงูุฉ ุงูุงุดุชุฑุงู</th>
                <th>ุชุงุฑูุฎ ุงูุชุณุฌูู</th>
                <th>ุฅุฌุฑุงุกุงุช</th>
            </tr>
        </thead>
        <tbody>
            {% for user in recent_users %}
            <tr>
                <td>
                    <div class="user-info">
                        <div class="user-avatar">{{ user.name[0] }}</div>
                        <div class="user-details">
                            <div class="name">{{ user.name }}</div>
                            <div class="phone">{{ user.phone }}</div>
                        </div>
                    </div>
                </td>
                <td>
                    {% if user.is_paid %}
                    <span class="badge badge-gold">๐ ูุดุชุฑู</span>
                    {% else %}
                    <span class="badge badge-warning">๐ค ุบูุฑ ูุดุชุฑู</span>
                    {% endif %}
                </td>
                <td>{{ user.created_at[:10] }}</td>
                <td>
                    <div class="action-buttons">
                        <a href="/admin/users/{{ user.id }}" class="btn btn-outline btn-sm">๐๏ธ ุนุฑุถ</a>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}